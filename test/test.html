<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mocha/2.1.0/mocha.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mocha/2.1.0/mocha.js"></script>
  <script>mocha.setup('bdd');</script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/chai/2.0.0/chai.js"></script>
  <script>var assert = chai.assert;</script>
</head>
<body>
<script src="../js/ls.js"></script>
<script>
/**
*test function that work with cart in localStorage
*1.bakup old cart, and clear cart in localStorage
*2.set cart array with our test values
*3.get cart array with our test value from localStorage
*4.clear cart and set our backed up array back
*5.return our test array that we retrieved from localStorage before
*/
function testCart(array){
  let backupArray = getStoreArray();
  clearCart();

  setStoreArray(array);
  let cartNow = getStoreArray();

  clearCart();   
  setStoreArray(backupArray);

  return cartNow;
}
/**
*test save function that work with cart in localStorage
*1.backup old cart, and clear cart in localStorage
*2.save 2 test value
*3.get cart array with our test value from localStorage
*4.clear cart and set our backed up array back
*5.return our test array that we retrieved from localStorage before
*/
function testCartSave(item1,item2){
  let backupArray = getStoreArray();
  clearCart();

  save(item1);
  save(item2);
  let cartNow = getStoreArray();

  clearCart();
  setStoreArray(backupArray);

  return cartNow;
}
/**
*test clear function that work with cart in localStorage
*1.backup old cart, and clear cart in localStorage
*2.save test array and clear item
*3.get new cart array from localStorage
*4.clear cart and set our backed up array back
*5.return our test array that we retrieved from localStorage before
*/
function testCartClearItem(arrayToSave,itemToClear){
  let backupArray = getStoreArray();
  clearCart();

  setStoreArray(arrayToSave);
  clearItem(itemToClear);
  let cartNow = getStoreArray();

  clearCart();
  setStoreArray(backupArray);
  
  return cartNow;
}
</script>
<script src="test.js"></script>
<div id="mocha"></div>
<script>mocha.run();</script>
</body>
</html>
